function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return i[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o),o.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}})),o.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),o.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),o.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}}));var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){var i=a.default(e,t,"get");return r.default(e,i)};var a=s(o("fExtF")),r=s(o("iaRLo"));function s(e){return e&&e.__esModule?e:{default:e}}var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t,i){d.default(e,t),t.set(e,i)};var f,d=(f=o("7K24o"))&&f.__esModule?f:{default:f};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t,i){var n=h.default(e,t,"set");return p.default(e,n,i),i};var h=v(o("fExtF")),p=v(o("3LGG3"));function v(e){return e&&e.__esModule?e:{default:e}}var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i};var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(e,t){_.default(e,t),t.add(e)};var _=function(e){return e&&e.__esModule?e:{default:e}}(o("7K24o"));var m=o("iQIUW");const b=document.querySelector("form.form");m.Notify.init({distance:"20px",clickToClose:!0,cssAnimationStyle:"from-right",fontSize:"14px",delay:4e3,failure:{background:"#ff4432"}});var g=new WeakMap,M=new WeakMap,x=new WeakMap,S=new WeakSet,E=new WeakSet,O=new WeakSet,j=new WeakSet,k=new WeakSet,T=new WeakSet;function F(){new FormData(e(l)(this,g)).forEach(((e,t)=>{this[t]=Number(e)}))}function P(){e(l)(this,g).querySelector('[type="submit"]').toggleAttribute("disabled")}function W(){let t=this.delay;for(let i=1;i<=this.amount;i+=1)e(y)(this,j,L).call(this,i,t).then((({position:t,delay:i})=>{e(y)(this,k,N).call(this,`Fulfilled promise ${t} in ${i}ms`)})).catch((({position:t,delay:i})=>{e(y)(this,T,R).call(this,`Rejected promise ${t} in ${i}ms`)})).finally((()=>{i===this.amount&&e(y)(this,E,P).call(this)})),t+=this.step}function L(e,t){return new Promise(((i,n)=>{const o=Math.random()>.3;setTimeout((()=>{o?i({position:e,delay:t}):n({position:e,delay:t})}),t)}))}function N(t){e(l)(this,M)?e(l)(this,M).call(this,t):alert(`SUCCESS!\n${t}`)}function R(t){e(l)(this,x)?e(l)(this,x).call(this,t):alert(`FAILURE!\n${t}`)}const $=new class{start(t){e(c)(this,g,t),e(l)(this,g)?(e(y)(this,S,F).call(this),this.delay?this.step?this.amount?(e(y)(this,E,P).call(this),e(y)(this,O,W).call(this)):e(y)(this,T,R).call(this,"Amount value not found!"):e(y)(this,T,R).call(this,"Step value not found!"):e(y)(this,T,R).call(this,"Delay value not found!")):e(y)(this,T,R).call(this,"Target Form not found!")}constructor(t){e(w)(this,S),e(w)(this,E),e(w)(this,O),e(w)(this,j),e(w)(this,k),e(w)(this,T),e(u)(this,g,{writable:!0,value:void 0}),e(u)(this,M,{writable:!0,value:void 0}),e(u)(this,x,{writable:!0,value:void 0}),e(c)(this,g,null),this.delay=null,this.step=null,this.amount=null,e(c)(this,M,null==t?void 0:t.onSuccess),e(c)(this,x,null==t?void 0:t.onFailure)}}({onSuccess:m.Notify.success,onFailure:m.Notify.failure});b.addEventListener("submit",(e=>{e.preventDefault(),$.start(e.currentTarget)}));
//# sourceMappingURL=03-promises.c6e21451.js.map
